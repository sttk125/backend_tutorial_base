# 【BE研修課題】バージョン 1.1.0（2025-08-23）

## 概要
- 【修正】先日、石川さんからうけたFBをもとに、API設計ファイル`docs/api/backend-pr.yml`に関していくつか修正しました。
- 【修正】ReDocの導入を行うため、`docker-compose.yml`を修正しました。  
- 【新規】データベース設計としてER図`docs/backend_ER.drawio`を作成しました。
- 【修正】認証機能の設計を追加しました。


## 修正点

- `backend-pr.yml`
  - 指摘された誤字を修正しました。
  - プロパティ命名を **snake_case** に統一しました。
    - **エラーレスポンス**を以下の通り見直しました。  
      | エラーコード | 一覧表示 | 投稿 | 追加 | 削除 |
      |------------:|:--------:|:----:|:----:|:----:|
      | **400**     |   〇     |  〇  |  〇  |  〇  |
      | **401**     |   ×      |  〇  |  〇  |  〇  |
      | **403**     |   ×      |  〇  |  〇  |  〇  |
      | **404**     |   〇     |  ×   |  〇  |  〇  |
      | **422** *(new)* |  ×   |  〇  |  〇  |  ×   |

  - `GET /articles/{article_id}/comments`  
    - レスポンスの `date` フィールドを **`created_at`** に変更しました。
    - **ページネーション機能**を追加しました。
      - クエリパラメータ `page`（デフォルト: 1）と `limit`（デフォルト: 10）を追加。
      - レスポンス形式を **オブジェクト形式**に変更し、`page`、`limit`、`total`、`comments` を返すように統一。
  - `POST /articles/{article_id}/comments`
    - レスポンスの `date` フィールドの型を **`integer` → `string`（`format: date-time`）** に修正しました。
  - `PUT /comments/{comment_id}`
    - レスポンスの `date` フィールドを **`updated_at`** に変更しました。
  - 全体の表記ゆれ（ID名・フィールド名・説明文）を統一しました。
  - ### **🔒認証機能の設計を追加しました。**

## 新規点
- **ER図作成**
  - **ユーザー・コメント・記事**を含むER図を新規作成しました。
  - 保管場所：`docs/backend_ER.drawio`
- **バージョン別仕様書の作成**
  - バージョンごとのAPI仕様書を新規作成しました。
  - 保管場所：patchnote_BETraining_1.1.0.md

## レビューポイント（疑問点等）
- そもそもこの仕様書は必要ですか？必要ならこの様式についてもレビューが欲しいです
- 認証機能の設計、DB設計（ER図作成）が新規で作成したのでその２点についてもお願いしたいです
- 【全般】システム実装中に、実装に使うアプリ（Dockerなど）がアップデート可能の時、アップデートしてしまってもいいですか？